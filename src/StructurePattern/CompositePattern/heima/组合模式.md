# 组合模式

**定义**

又名部分整体模式，是用于把一组相似的对象当作一个单一的对象。组合模式依据树形结构来组合对象，用来表示部分以及整体层次，这种类型的涉及属于结构型模式，它创建了对象组的树形结构

#### 结构

组合模式主要包含三种角色：

1. 抽象根节点（Component）:定义系统各层次对象共有的方法和属性，可以预先定义一些默认行为和属性
2. 树枝节点（Composite）：定义树枝节点的行为，存储子节点，组合树枝节点和叶子节点形成一个树形结构
3. 叶子节点（Leaf）：叶子节点对象，其下再无分支，是系统层次遍历的最小单位

**优点**

组合模式可以清楚定义分层次的复杂对象，表示对象的全部或部分层次，他让客户端忽略层次的差异，方便对整个层次进行控制

客户端可以一致使用一个组合机构或其中单个对象，不必关心处理的是单个对象还是整个组合结构

在组合模式中增加新的树枝节点和叶子节点都很方便，无需对现有儿类库进行任何修改， 符合 开闭原则

组合模式为树形结构的面向对象提供一种灵活解决方案，通过叶子节点和树枝节点的递归组合，可以形成复杂的树形结构，同时对树形结构的控制非常简单

**使用场景**

组合模式正式应树形结构而生，所以组合模式的使用场景就是出现树形结构的地方，比如文件目录显示，多级目录呈现等树形结构的操作